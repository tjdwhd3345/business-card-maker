{"version":3,"sources":["components/skeleton/CardFormSkeleton.module.css","components/skeleton/CardViewSkeleton.module.css","components/cardViewList/CardViewList.module.css","components/main/Intro.module.css","components/cardFormList/CardFormList.module.css","components/modal/ConfirmModal.module.css","components/loginForm/LoginForm.module.css","components/modal/ProgressModal.module.css","components/cardMaker/CardMaker.module.css","components/cardPreview/CardPreview.module.css","App.module.css","components/modal/ConfirmModal.jsx","components/modal/ProgressModal.jsx","components/modal/Modal.jsx","components/loginForm/LoginForm.jsx","components/cardFormList/CardFormList.jsx","components/cardMaker/CardMaker.jsx","user.png","components/cardViewList/CardViewList.jsx","components/cardPreview/CardPreview.jsx","components/skeleton/CardFormSkeleton.jsx","components/skeleton/CardViewSkeleton.jsx","components/main/Intro.jsx","App.jsx","reportWebVitals.js","firebaseInit/firebaseInit.js","services/authService.js","services/dbService.js","services/imageUploadService.js","index.js"],"names":["module","exports","ConfirmModal","message","callback","handleButtonClick","e","target","name","className","styles","background","container","inner","msgBox","btnBox","onClick","ProgressModal","loading","Modal","modalType","visible","modalRoot","document","getElementById","modal","ReactDom","createPortal","LoginForm","authService","history","useHistory","useState","modalVisible","setModalVisible","goToMain","userId","providerName","push","pathname","state","handleSignIn","event","a","signIn","status","useEffect","onAuthChanged","user","uid","loginForm","title","content","footer","CardFormList","memo","info","handleChange","handleRemove","imageUploadService","modalInfo","setModalInfo","imageRef","useRef","handleInputChange","key","onImageFileChange","file","current","files","console","log","upload","result","value","url","formWrap","formBlock","type","placeholder","onChange","company","theme","map","themeOption","i","position","email","rows","ref","accept","btnName","preventDefault","click","imageUrl","btnDelete","CardMaker","cards","wrap","list","card","CardViewList","listWrap","image","src","userImage","alt","CardPreview","CardFormSkeleton","v","CardViewSkeleton","listContainer","Intro","dbService","dbApp","setCards","isLoaded","setIsLoaded","location","currentUserUid","handleAddCard","set","newKey","then","get","handleOnChange","useCallback","refPath","updateInfo","update","remove","refs","onChildChanged","snapshot","data","val","onChildRemoved","guest","controlBtn","add","signOut","App","basename","process","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","AuthService","this","auth","getAuth","useDeviceLanguage","setPersistence","browserSessionPersistence","provider","toLowerCase","GoogleAuthProvider","GithubAuthProvider","setCustomParameters","prompt","signInAnonymously","catch","error","signInWithPopup","code","credential","onUserChanged","onAuthStateChanged","DbService","getDatabase","listRef","newCardRef","dbRef","child","snapshots","exists","forEach","cardRef","ImageUploadService","cloudName","CLOUDINARY_CLOUD_NAME","cloudApiKey","CLOUDINARY_API_KEY","imageUploadURL","formData","FormData","append","fetch","method","body","res","json","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.f0f35a94.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWhite\":\"#ffffff\",\"subWhite\":\"#f3f3f3\",\"mainBlack\":\"#000000\",\"mediaMobile\":\"767px\",\"wrap\":\"CardFormSkeleton_wrap__156yr\",\"title\":\"CardFormSkeleton_title__3VuUK\",\"list\":\"CardFormSkeleton_list__QiDhe\",\"formWrap\":\"CardFormSkeleton_formWrap__1VFjg\",\"formBlock\":\"CardFormSkeleton_formBlock__3y_l7\",\"msgBox\":\"CardFormSkeleton_msgBox__1Ct3v\",\"btnName\":\"CardFormSkeleton_btnName__21raN\",\"btnDelete\":\"CardFormSkeleton_btnDelete__1iJ3L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWhite\":\"#ffffff\",\"subWhite\":\"#f3f3f3\",\"container\":\"CardViewSkeleton_container__3_RUX\",\"title\":\"CardViewSkeleton_title__3PlZQ\",\"listContainer\":\"CardViewSkeleton_listContainer__3GgPH\",\"listWrap\":\"CardViewSkeleton_listWrap__29AI2\",\"loading\":\"CardViewSkeleton_loading__1ogEQ\",\"image\":\"CardViewSkeleton_image__1yh-Z\",\"content\":\"CardViewSkeleton_content__3tjW_\",\"name\":\"CardViewSkeleton_name__35yA-\",\"company\":\"CardViewSkeleton_company__Yi_29\",\"position\":\"CardViewSkeleton_position__zE9sJ\",\"email\":\"CardViewSkeleton_email__2ebvr\",\"message\":\"CardViewSkeleton_message__1fjEQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWhite\":\"#ffffff\",\"mainBlue\":\"#00539c\",\"mainBlack\":\"#000000\",\"mainShadow\":\"rgba(0, 0, 0, 0.3)\",\"mediaMobile\":\"767px\",\"listWrap\":\"CardViewList_listWrap__1qUXT\",\"card\":\"CardViewList_card__3ejQP\",\"Light\":\"CardViewList_Light__16fWD\",\"Dark\":\"CardViewList_Dark__2BEvT\",\"Colorful\":\"CardViewList_Colorful__1Hisd\",\"image\":\"CardViewList_image__bcKSe\",\"content\":\"CardViewList_content__298r0\",\"name\":\"CardViewList_name__3R0yb\",\"company\":\"CardViewList_company__1u_5J\",\"message\":\"CardViewList_message__2hZxj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWhite\":\"#ffffff\",\"transparentWhite\":\"#ffffffa1\",\"subWhite\":\"#f3f3f3\",\"mainBlue\":\"#00539c\",\"subBlue\":\"undefined\",\"mainBlack\":\"#000000\",\"mainShadow\":\"rgba(0, 0, 0, 0.3)\",\"mediaMobile\":\"767px\",\"loginForm\":\"Intro_loginForm__2RXMW\",\"title\":\"Intro_title__3Q0XB\",\"footer\":\"Intro_footer__LiL1c\",\"guest\":\"Intro_guest__KlSoW\",\"controlBtn\":\"Intro_controlBtn__I_vy9\",\"add\":\"Intro_add__2kbFN\",\"signOut\":\"Intro_signOut__3vxm9\",\"content\":\"Intro_content__3n9tJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWhite\":\"#ffffff\",\"mainBlue\":\"#00539c\",\"mainBlack\":\"#000000\",\"mediaMobile\":\"767px\",\"content\":\"CardFormList_content__29hhM\",\"formWrap\":\"CardFormList_formWrap__39eG1\",\"formBlock\":\"CardFormList_formBlock__3QQsk\",\"msgBox\":\"CardFormList_msgBox__2k0Kc\",\"btnName\":\"CardFormList_btnName__2ylKl\",\"btnDelete\":\"CardFormList_btnDelete__3A-tV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"background\":\"ConfirmModal_background__3Be0v\",\"container\":\"ConfirmModal_container__1_3jH\",\"inner\":\"ConfirmModal_inner__w8Vga\",\"btnBox\":\"ConfirmModal_btnBox__3_YN3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"subWhite\":\"#f3f3f3\",\"mainBlue\":\"#00539c\",\"mediaMobile\":\"767px\",\"loginForm\":\"LoginForm_loginForm__3w-8H\",\"title\":\"LoginForm_title__1Yyls\",\"footer\":\"LoginForm_footer__2IqzX\",\"content\":\"LoginForm_content__cPcux\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"background\":\"ProgressModal_background__2PyVh\",\"container\":\"ProgressModal_container__2p5el\",\"inner\":\"ProgressModal_inner__1lXwn\",\"loading\":\"ProgressModal_loading__3Ub37\",\"spin\":\"ProgressModal_spin__6hhHU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainLightGrey\":\"#80808082\",\"mediaMobile\":\"767px\",\"wrap\":\"CardMaker_wrap__9vOB_\",\"title\":\"CardMaker_title__12f5Y\",\"list\":\"CardMaker_list__1s96q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"CardPreview_wrap__1eMVV\",\"title\":\"CardPreview_title__3kQmZ\",\"list\":\"CardPreview_list__2rxV1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1gYJ4\"};","import React from 'react';\r\nimport styles from './ConfirmModal.module.css';\r\n\r\nconst ConfirmModal = ({ message, callback }) => {\r\n  const handleButtonClick = (e) => {\r\n    callback(e.target.name);\r\n  };\r\n  return (\r\n    <>\r\n      <div className={styles.background}></div>\r\n      <div className={styles.container}>\r\n        <div className={styles.inner}>\r\n          <div className={styles.msgBox}>{message}</div>\r\n          <div className={styles.btnBox}>\r\n            <button onClick={handleButtonClick} name='ok'>\r\n              OK\r\n            </button>\r\n            {callback ? (\r\n              <button onClick={handleButtonClick} name='cancel'>\r\n                Cancel\r\n              </button>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ConfirmModal;\r\n","import React from 'react';\r\nimport styles from './ProgressModal.module.css';\r\n\r\nconst ProgressModal = ({ message }) => {\r\n  return (\r\n    <>\r\n      <div className={styles.background}></div>\r\n      <div className={styles.container}>\r\n        <div className={styles.inner}>\r\n          {message}\r\n          <div className={styles.loading}></div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProgressModal;\r\n","import React from 'react';\r\nimport ReactDom from 'react-dom';\r\nimport ConfirmModal from './ConfirmModal';\r\nimport ProgressModal from './ProgressModal';\r\n\r\nconst Modal = ({ modalType, visible, message, callback }) => {\r\n  const modalRoot = document.getElementById('modal-root');\r\n  const modal =\r\n    modalType === 'confirm' ? (\r\n      <ConfirmModal message={message} callback={callback} />\r\n    ) : (\r\n      <ProgressModal message={message} />\r\n    );\r\n  return ReactDom.createPortal(visible ? modal : null, modalRoot);\r\n};\r\n\r\nexport default Modal;\r\n","import React, { useEffect, useState } from 'react';\r\nimport styles from './LoginForm.module.css';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Modal from '../modal/Modal';\r\n\r\nconst LoginForm = ({ authService }) => {\r\n  let history = useHistory();\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n\r\n  const goToMain = (userId, providerName) => {\r\n    history.push({\r\n      pathname: '/main',\r\n      state: { userId: userId, providerName: providerName },\r\n    });\r\n  };\r\n\r\n  const handleSignIn = async (event) => {\r\n    const { status, userId, providerName } = await authService.signIn(\r\n      event.target.name\r\n    );\r\n    if (status === 'ok') goToMain(userId, providerName);\r\n    else setModalVisible(true);\r\n  };\r\n  const handleModalCallback = () => {\r\n    setModalVisible(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    authService.onAuthChanged((user) => {\r\n      user && goToMain(user.uid);\r\n    });\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <section className={styles.loginForm}>\r\n        <h2 className={styles.title}>Business Card Maker</h2>\r\n        <div className={styles.content}>\r\n          <h2>로그인</h2>\r\n          <button onClick={handleSignIn} name='google'>\r\n            Google 로그인\r\n          </button>\r\n          <button onClick={handleSignIn} name='github'>\r\n            Github 로그인\r\n          </button>\r\n          <button onClick={handleSignIn} name='guest'>\r\n            게스트 로그인\r\n          </button>\r\n        </div>\r\n        <div className={styles.footer}>Manage your business cards</div>\r\n      </section>\r\n      <Modal\r\n        modalType={'confirm'}\r\n        visible={modalVisible}\r\n        message={'해당 이메일 주소는 사용중입니다.'}\r\n        callback={handleModalCallback}\r\n      ></Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n","import React, { memo, useRef, useState } from 'react';\r\nimport Modal from '../modal/Modal';\r\nimport styles from './CardFormList.module.css';\r\n\r\nconst CardFormList = memo(\r\n  ({ info, handleChange, handleRemove, imageUploadService }) => {\r\n    const themeOptions = [\r\n      { value: 'Light', name: 'LightTheme' },\r\n      { value: 'Dark', name: 'DarkTheme' },\r\n      { value: 'Colorful', name: 'ColorfulTheme' },\r\n    ];\r\n    const [modalInfo, setModalInfo] = useState({\r\n      modalType: 'confirm',\r\n      modalVisible: false,\r\n      message: '삭제하시겠습니까?',\r\n    });\r\n    const imageRef = useRef();\r\n    /**\r\n     * 키 이벤트와 현재 카드 키값을 상위로 전달.\r\n     * @param {e} e : 키보드 이벤트\r\n     */\r\n    const handleInputChange = (e) => {\r\n      handleChange(e, info.key);\r\n    };\r\n\r\n    const handleDelete = (e) => {\r\n      console.log('delete', info.key);\r\n      setModalInfo(() => ({\r\n        modalType: 'confirm',\r\n        modalVisible: true,\r\n        message: '삭제하시겠습니까?',\r\n      }));\r\n    };\r\n    const handleModalCallback = (result) => {\r\n      if (result === 'ok') {\r\n        handleRemove(info.key);\r\n      }\r\n      setModalInfo((modalInfo) => ({\r\n        ...modalInfo,\r\n        modalVisible: false,\r\n      }));\r\n    };\r\n\r\n    /**\r\n     * 버튼 클릭 시 input click 이벤트 실행\r\n     * @param {event} event\r\n     */\r\n    const onBtnClick = (e) => {\r\n      e.preventDefault();\r\n      imageRef.current.click();\r\n    };\r\n\r\n    /**\r\n     * 프로필 이미지 업로드 및 변경\r\n     */\r\n    const onImageFileChange = async () => {\r\n      setModalInfo(() => ({\r\n        modalType: 'progress',\r\n        modalVisible: true,\r\n        message: '이미지 업로드 중',\r\n      }));\r\n      const file = imageRef.current.files[0];\r\n      console.log('image file', file);\r\n      if (file) {\r\n        const result = await imageUploadService.upload(file);\r\n        console.log('fetch result', result);\r\n        handleChange(\r\n          { target: { name: 'imageUrl', value: result.url } },\r\n          info.key\r\n        );\r\n      }\r\n      setModalInfo((modalInfo) => ({\r\n        ...modalInfo,\r\n        modalVisible: false,\r\n      }));\r\n    };\r\n\r\n    console.log('cardFormlist', info.key);\r\n    return (\r\n      <>\r\n        <li className={styles.formWrap} key={info.key}>\r\n          <div className={styles.formBlock}>\r\n            <input\r\n              type='text'\r\n              placeholder='Name'\r\n              value={info.name}\r\n              name='name'\r\n              onChange={handleInputChange}\r\n            />\r\n            <input\r\n              type='text'\r\n              placeholder='Company'\r\n              value={info.company}\r\n              name='company'\r\n              onChange={handleInputChange}\r\n            />\r\n            <select\r\n              name='theme'\r\n              onChange={handleInputChange}\r\n              value={info.theme}\r\n            >\r\n              {themeOptions.map((themeOption, i) => (\r\n                <option value={themeOption.value} key={i}>\r\n                  {themeOption.value}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div className={styles.formBlock}>\r\n            <input\r\n              type='text'\r\n              placeholder='Position'\r\n              value={info.position}\r\n              name='position'\r\n              onChange={handleInputChange}\r\n            />\r\n            <input\r\n              type='email'\r\n              placeholder='Email'\r\n              value={info.email}\r\n              name='email'\r\n              onChange={handleInputChange}\r\n            />\r\n          </div>\r\n          <div className={`${styles.formBlock} ${styles.msgBox}`}>\r\n            <textarea\r\n              name='message'\r\n              rows='4'\r\n              placeholder='Message'\r\n              value={info.message}\r\n              onChange={handleInputChange}\r\n            ></textarea>\r\n          </div>\r\n          <div className={styles.formBlock}>\r\n            <input\r\n              type='file'\r\n              name='profileImage'\r\n              ref={imageRef}\r\n              accept='image/*'\r\n              onChange={onImageFileChange}\r\n            ></input>\r\n            <button className={styles.btnName} onClick={onBtnClick}>\r\n              {info.imageUrl ? '프로필사진 변경' : '프로필사진 추가하기'}\r\n            </button>\r\n            <button className={styles.btnDelete} onClick={handleDelete}>\r\n              삭제\r\n            </button>\r\n          </div>\r\n        </li>\r\n        <Modal\r\n          modalType={modalInfo.modalType}\r\n          visible={modalInfo.modalVisible}\r\n          message={modalInfo.message}\r\n          callback={handleModalCallback}\r\n        ></Modal>\r\n      </>\r\n    );\r\n  }\r\n);\r\n\r\nexport default CardFormList;\r\n","import React from 'react';\r\nimport CardFormList from '../cardFormList/CardFormList';\r\nimport styles from './CardMaker.module.css';\r\n\r\nconst CardMaker = ({\r\n  cards,\r\n  handleChange,\r\n  handleRemove,\r\n  imageUploadService,\r\n}) => {\r\n  return (\r\n    <div className={styles.wrap}>\r\n      <div className={styles.title}>\r\n        <h2>Card Maker</h2>\r\n      </div>\r\n      <ul className={styles.list}>\r\n        {cards.map((card) => (\r\n          <CardFormList\r\n            key={card.key}\r\n            info={card}\r\n            handleChange={handleChange}\r\n            handleRemove={handleRemove}\r\n            imageUploadService={imageUploadService}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardMaker;\r\n","export default __webpack_public_path__ + \"static/media/user.18fe6a7e.png\";","import React, { memo } from 'react';\r\nimport styles from './CardViewList.module.css';\r\nimport userImage from '../../user.png';\r\n\r\nconst CardViewList = memo(({ info }) => {\r\n  return (\r\n    <li className={styles.listWrap} key={info.key}>\r\n      <div className={`${styles.card} ${styles[info.theme]}`}>\r\n        <div className={styles.image}>\r\n          <img src={info.imageUrl || userImage} alt='사용자 이미지' />\r\n        </div>\r\n        <div className={styles.content}>\r\n          <p className={styles.name}>{info.name || '이름'}</p>\r\n          <p className={styles.company}>{info.company || '소속'}</p>\r\n          <p className={styles.position}>{info.position || '직급'}</p>\r\n          <p className={styles.email}>{info.email || '이메일'}</p>\r\n          <p className={styles.message}>\"{info.message || '코멘트'}\"</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n});\r\n\r\nexport default CardViewList;\r\n","import React from 'react';\r\nimport CardViewList from '../cardViewList/CardViewList';\r\nimport styles from './CardPreview.module.css';\r\n\r\nconst CardPreview = ({ cards }) => {\r\n  return (\r\n    <div className={styles.wrap}>\r\n      <div className={styles.title}>\r\n        <h2>Card Preview</h2>\r\n      </div>\r\n      <ul className={styles.list}>\r\n        {cards.map((card) => (\r\n          <CardViewList key={card.key} info={card} />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardPreview;\r\n","import React from 'react';\r\nimport styles from './CardFormSkeleton.module.css';\r\n\r\nconst CardFormSkeleton = () => (\r\n  <div className={styles.wrap}>\r\n    <div className={styles.title}>\r\n      <h2>Card Maker</h2>\r\n    </div>\r\n    <ul className={styles.list}>\r\n      {[0, 1, 2].map((v) => (\r\n        <li className={styles.formWrap} key={v}>\r\n          <div className={styles.formBlock}>\r\n            <p className={styles.name} name='name'></p>\r\n            <p className={styles.company} name='company'></p>\r\n            <p className={styles.theme} name='theme'></p>\r\n          </div>\r\n          <div className={styles.formBlock}>\r\n            <p className={styles.position} name='position'></p>\r\n            <p className={styles.email} name='email'></p>\r\n          </div>\r\n          <div className={`${styles.formBlock} ${styles.msgBox}`}>\r\n            <p className={styles.message} name='message'></p>\r\n          </div>\r\n          <div className={styles.formBlock}>\r\n            <button className={styles.btnName}></button>\r\n            <button className={styles.btnDelete}></button>\r\n          </div>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  </div>\r\n);\r\n\r\nexport default CardFormSkeleton;\r\n","import React from 'react';\r\nimport styles from './CardViewSkeleton.module.css';\r\n\r\nconst CardViewSkeleton = () => {\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.title}>\r\n        <h2>Card View</h2>\r\n      </div>\r\n      <ul className={styles.listContainer}>\r\n        {[0, 1, 2].map((v) => (\r\n          <li className={styles.listWrap} key={v}>\r\n            <div className={styles.image}>\r\n              <div />\r\n            </div>\r\n            <div className={styles.content}>\r\n              <p className={styles.name}></p>\r\n              <p className={styles.company}></p>\r\n              <p className={styles.position}></p>\r\n              <p className={styles.email}></p>\r\n              <p className={styles.message}></p>\r\n            </div>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardViewSkeleton;\r\n","import React, { useCallback, useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { ref, onChildChanged, onChildRemoved } from 'firebase/database';\r\nimport styles from './Intro.module.css';\r\nimport CardMaker from '../cardMaker/CardMaker';\r\nimport CardPreview from '../cardPreview/CardPreview';\r\nimport Modal from '../modal/Modal';\r\nimport CardFormSkeleton from '../skeleton/CardFormSkeleton';\r\nimport CardViewSkeleton from '../skeleton/CardViewSkeleton';\r\n\r\nconst Intro = ({ authService, dbService, imageUploadService }) => {\r\n  const dbApp = dbService.dbApp;\r\n  const [cards, setCards] = useState([]);\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  let history = useHistory();\r\n  const { userId: currentUserUid, providerName } = history.location.state;\r\n\r\n  useEffect(() => {\r\n    authService.onAuthChanged((user) => {\r\n      !user && history.push('/');\r\n    });\r\n    console.log('effect 1');\r\n  });\r\n\r\n  /**\r\n   * 빈 카드슬롯을 추가함\r\n   */\r\n  const handleAddCard = () => {\r\n    const [newKey, result] = dbService.set(currentUserUid + '/cards');\r\n    result.then(() => {\r\n      setCards([\r\n        ...cards,\r\n        {\r\n          name: '',\r\n          company: '',\r\n          position: '',\r\n          theme: 'Light',\r\n          email: '',\r\n          message: '',\r\n          imageUrl: '',\r\n          key: newKey,\r\n        },\r\n      ]);\r\n    });\r\n  };\r\n\r\n  /**\r\n   * 접속 시 데이터 조회\r\n   */\r\n  useEffect(() => {\r\n    dbService\r\n      .get(currentUserUid) //\r\n      .then(async (result) => {\r\n        // 게스트 사용자는 로그인 시 카드하나 추가\r\n        if (providerName === 'guest') handleAddCard();\r\n        else setCards(result);\r\n        setIsLoaded(true);\r\n      });\r\n\r\n    console.log('effect 2, dbSevice, currentUserUid');\r\n  }, [dbService, currentUserUid, providerName]);\r\n\r\n  /**\r\n   * 카드 각 항목의 change 이벤트\r\n   * @param {event} e: 키보드 이벤트\r\n   * @param {string} key: 카드 객체의 고유 키\r\n   */\r\n  const handleOnChange = useCallback(\r\n    (e, key) => {\r\n      // console.log('handleOnChange', e, key);\r\n      // 키값으로 firebase update\r\n      const refPath = currentUserUid + '/cards/' + key;\r\n      const updateInfo = { [e.target.name]: e.target.value };\r\n      dbService.update(refPath, updateInfo);\r\n    },\r\n    [currentUserUid, dbService]\r\n  );\r\n\r\n  /**\r\n   * firebase 삭제\r\n   * @param {firebase key} key: 삭제할 카드의 key\r\n   */\r\n  const handleRemove = useCallback(\r\n    (key) => {\r\n      console.log('intro handleRemove', key);\r\n      const refPath = currentUserUid + '/cards/' + key;\r\n      dbService.remove(refPath);\r\n    },\r\n    [currentUserUid, dbService]\r\n  );\r\n\r\n  /**\r\n   * firebase 업데이트 후 onChildChanged 리스너를 통해 preview 업데이트를 위해 state 변경\r\n   * useEffect 사용해서 리스너는 최초 렌더링 시에만 등록\r\n   */\r\n  useEffect(() => {\r\n    const refs = ref(dbApp, currentUserUid + '/cards/');\r\n    /* onValue(refs, (snapshot) => {\r\n      console.log('### onValue: ', snapshot.val());\r\n      setCards(Object.values(snapshot.val()));\r\n    }); */\r\n    onChildChanged(refs, (snapshot) => {\r\n      const data = snapshot.val();\r\n      console.log('### onChildChanged:', data);\r\n      setCards((cards) =>\r\n        cards.map((card) => {\r\n          if (card.key === data.key) return data;\r\n          return card;\r\n        })\r\n      );\r\n    });\r\n    onChildRemoved(refs, (snapshot) => {\r\n      console.log('### onChildRemoved:');\r\n      dbService\r\n        .get(currentUserUid) //\r\n        .then(async (result) => {\r\n          setCards(result);\r\n        });\r\n    });\r\n    console.log('effect 3, currentUserUid, dbService, dbApp');\r\n  }, [currentUserUid, dbService, dbApp]);\r\n\r\n  /**\r\n   * 로그아웃.\r\n   * 로그아웃 성공 시 로그인페이지로 전환됨\r\n   */\r\n  const handleSignOut = () => {\r\n    setModalVisible(true);\r\n  };\r\n  const handleModalCallback = (result) => {\r\n    if (result === 'ok') {\r\n      authService.signOut().then(() => {\r\n        history.push('/');\r\n      });\r\n      // 게스트 사용자는 로그아웃 시 db에서 삭제\r\n      if (providerName === 'guest') {\r\n        const refPath = currentUserUid;\r\n        dbService.remove(refPath);\r\n      }\r\n    }\r\n    setModalVisible(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <section className={styles.loginForm}>\r\n        <div className={styles.title}>\r\n          <div>\r\n            <h1>Business Card Maker</h1>\r\n          </div>\r\n          {providerName === 'guest' ? (\r\n            <div className={styles.guest}>\r\n              <span>게스트 로그인</span>\r\n            </div>\r\n          ) : null}\r\n          <div className={styles.controlBtn}>\r\n            <button className={styles.add} onClick={handleAddCard}>\r\n              카드 추가\r\n            </button>\r\n            <button className={styles.signOut} onClick={handleSignOut}>\r\n              로그아웃\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className={styles.content}>\r\n          {isLoaded ? (\r\n            <>\r\n              <CardMaker\r\n                cards={cards}\r\n                handleChange={handleOnChange}\r\n                handleRemove={handleRemove}\r\n                imageUploadService={imageUploadService}\r\n              />\r\n              <CardPreview cards={cards} />\r\n            </>\r\n          ) : (\r\n            <>\r\n              <CardFormSkeleton />\r\n              <CardViewSkeleton />\r\n            </>\r\n          )}\r\n        </div>\r\n        <div className={styles.footer}>Manage your business cards</div>\r\n      </section>\r\n      <Modal\r\n        modalType={'confirm'}\r\n        visible={modalVisible}\r\n        message={'로그아웃 하시겠습니까?'}\r\n        callback={handleModalCallback}\r\n      ></Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Intro;\r\n","import styles from './App.module.css';\r\nimport { Route, BrowserRouter, Switch } from 'react-router-dom';\r\nimport LoginForm from './components/loginForm/LoginForm';\r\nimport Intro from './components/main/Intro';\r\nimport React from 'react';\r\n\r\nconst App = ({ authService, dbService, imageUploadService }) => {\r\n  return (\r\n    <div className={styles.App}>\r\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n        <Switch>\r\n          <Route path={['/', '/login']} exact>\r\n            <LoginForm authService={authService} />\r\n          </Route>\r\n          <Route path='/main' exact>\r\n            <Intro\r\n              authService={authService}\r\n              dbService={dbService}\r\n              imageUploadService={imageUploadService}\r\n            />\r\n          </Route>\r\n        </Switch>\r\n      </BrowserRouter>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { initializeApp } from 'firebase/app';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n};\r\n\r\nconst firebase = initializeApp(firebaseConfig);\r\n\r\nexport default firebase;\r\n","import firebase from '../firebaseInit/firebaseInit';\r\nimport {\r\n  getAuth,\r\n  GoogleAuthProvider,\r\n  GithubAuthProvider,\r\n  signInAnonymously,\r\n  signInWithPopup,\r\n  setPersistence,\r\n  browserSessionPersistence,\r\n  onAuthStateChanged,\r\n} from 'firebase/auth';\r\n\r\nclass AuthService {\r\n  constructor() {\r\n    this.auth = getAuth(firebase);\r\n    this.auth.useDeviceLanguage();\r\n    // 로그인상태 브라우저 세션으로 지속\r\n    setPersistence(this.auth, browserSessionPersistence);\r\n  }\r\n  /**\r\n   * 로그인\r\n   * @param {string} providerName : 로그인 방식을 문자열로 받음\r\n   * @returns 로그인팝업 promise\r\n   */\r\n  signIn(providerName) {\r\n    let provider = null;\r\n    switch (providerName.toLowerCase()) {\r\n      case 'google':\r\n        provider = new GoogleAuthProvider();\r\n        break;\r\n      case 'github':\r\n        provider = new GithubAuthProvider();\r\n        break;\r\n      default:\r\n    }\r\n    if (provider) provider.setCustomParameters({ prompt: 'select_account' });\r\n    if (providerName === 'guest') {\r\n      // 익명 로그인\r\n      return signInAnonymously(this.auth)\r\n        .then((result) => {\r\n          return {\r\n            status: 'ok',\r\n            userId: result.user.uid,\r\n            providerName: 'guest',\r\n          };\r\n        })\r\n        .catch((error) => {\r\n          console.log('익명로그인 에러', error);\r\n        });\r\n    }\r\n    return signInWithPopup(this.auth, provider)\r\n      .then((result) => {\r\n        console.log('signInWithPopup then', result);\r\n        return {\r\n          status: 'ok',\r\n          userId: result.user.uid,\r\n          providerName: providerName,\r\n        };\r\n      })\r\n      .catch((error) => {\r\n        if (error.code === 'auth/account-exists-with-different-credential') {\r\n          console.log('이미 가입된 이메일이 있음', error.credential);\r\n          return { status: 'fail', code: 'account-exists' };\r\n        }\r\n      });\r\n  }\r\n\r\n  /**\r\n   * 사용자 로그아웃\r\n   * @returns 로그아웃 promise\r\n   */\r\n  signOut() {\r\n    return this.auth.signOut();\r\n  }\r\n\r\n  onAuthChanged(onUserChanged) {\r\n    onAuthStateChanged(this.auth, (user) => {\r\n      onUserChanged(user);\r\n    });\r\n  }\r\n}\r\n\r\nexport default AuthService;\r\n","import firebase from '../firebaseInit/firebaseInit';\r\nimport {\r\n  child,\r\n  get,\r\n  getDatabase,\r\n  push,\r\n  ref,\r\n  remove,\r\n  set,\r\n  update,\r\n} from 'firebase/database';\r\n\r\nclass DbService {\r\n  constructor() {\r\n    this.dbApp = getDatabase(firebase);\r\n  }\r\n\r\n  /**\r\n   * 새로운 카드 추가\r\n   * @param {string} path : firebase database reference 경로\r\n   * @returns 새로 추가된 reference의 key 와 set Promise 를 반환\r\n   */\r\n  set(path) {\r\n    const listRef = ref(this.dbApp, path);\r\n    const newCardRef = push(listRef);\r\n    return [\r\n      newCardRef.key,\r\n      set(newCardRef, {\r\n        name: '',\r\n        company: '',\r\n        position: '',\r\n        theme: '',\r\n        email: '',\r\n        message: '',\r\n        imageUrl: '',\r\n        key: newCardRef.key,\r\n      }),\r\n    ];\r\n  }\r\n\r\n  /**\r\n   * 전체 카드 조회\r\n   * @param {string} userId : firebase auth 의 유저 id\r\n   * @returns {array} 조회결과\r\n   */\r\n  async get(userId) {\r\n    const dbRef = ref(this.dbApp);\r\n    const snapshots = await get(child(dbRef, userId + '/cards/'));\r\n    let result = [];\r\n    if (snapshots.exists()) {\r\n      snapshots.forEach((snapshot) => {\r\n        result.push(snapshot.val());\r\n      });\r\n    }\r\n    return result;\r\n  }\r\n\r\n  async update(path, info) {\r\n    console.log('dbService js', path, info);\r\n    const cardRef = ref(this.dbApp, path);\r\n    return update(cardRef, info);\r\n  }\r\n\r\n  async remove(path) {\r\n    console.log('dbService js', path);\r\n    const cardRef = ref(this.dbApp, path);\r\n    return remove(cardRef);\r\n  }\r\n}\r\n\r\nexport default DbService;\r\n","class ImageUploadService {\r\n  constructor() {\r\n    this.cloudName = process.env.CLOUDINARY_CLOUD_NAME;\r\n    this.cloudApiKey = process.env.CLOUDINARY_API_KEY;\r\n    this.imageUploadURL = `https://api.cloudinary.com/v1_1/drpteyub6/image/upload`;\r\n  }\r\n\r\n  async upload(file) {\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n    formData.append('upload_preset', 'dclwja8y');\r\n    const res = await fetch(this.imageUploadURL, {\r\n      method: 'POST',\r\n      body: formData,\r\n    });\r\n    return res.json();\r\n  }\r\n}\r\n\r\nexport default ImageUploadService;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport AuthService from './services/authService';\r\nimport DbService from './services/dbService';\r\nimport ImageUploadService from './services/imageUploadService';\r\n\r\nconst authService = new AuthService();\r\nconst dbService = new DbService();\r\nconst imageUploadService = new ImageUploadService();\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App\r\n      authService={authService}\r\n      dbService={dbService}\r\n      imageUploadService={imageUploadService}\r\n    />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}