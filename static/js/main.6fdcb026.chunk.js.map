{"version":3,"sources":["components/skeleton/CardFormSkeleton.module.css","components/skeleton/CardViewSkeleton.module.css","components/cardViewList/CardViewList.module.css","components/cardFormList/CardFormList.module.css","components/main/Intro.module.css","components/modal/ConfirmModal.module.css","components/loginForm/LoginForm.module.css","components/modal/ProgressModal.module.css","components/cardMaker/CardMaker.module.css","components/cardPreview/CardPreview.module.css","App.module.css","components/loginForm/LoginForm.jsx","components/modal/ConfirmModal.jsx","components/modal/ProgressModal.jsx","components/modal/Modal.jsx","components/cardFormList/CardFormList.jsx","components/cardMaker/CardMaker.jsx","user.png","components/cardViewList/CardViewList.jsx","components/cardPreview/CardPreview.jsx","components/skeleton/CardFormSkeleton.jsx","components/skeleton/CardViewSkeleton.jsx","components/main/Intro.jsx","App.jsx","reportWebVitals.js","firebaseInit/firebaseInit.js","services/authService.js","services/dbService.js","services/imageUploadService.js","index.js"],"names":["module","exports","LoginForm","authService","history","useHistory","goToMain","userId","push","pathname","state","handleSignIn","event","signIn","target","textContent","then","result","console","log","user","displayName","email","emailVerified","uid","catch","error","useEffect","onAuthChanged","className","styles","loginForm","title","content","onClick","footer","ConfirmModal","message","callback","handleButtonClick","e","name","background","container","inner","msgBox","btnBox","ProgressModal","loading","Modal","modalType","visible","modalRoot","document","getElementById","modal","ReactDom","createPortal","CardFormList","memo","info","handleChange","handleRemove","imageUploadService","useState","modalVisible","modalInfo","setModalInfo","imageRef","useRef","handleInputChange","key","onImageFileChange","a","file","current","files","upload","value","url","formWrap","formBlock","type","placeholder","onChange","company","theme","map","themeOption","i","position","rows","ref","accept","btnName","preventDefault","click","imageUrl","btnDelete","CardMaker","cards","wrap","list","card","CardViewList","listWrap","image","src","userImage","alt","CardPreview","CardFormSkeleton","v","CardViewSkeleton","listContainer","Intro","dbService","dbApp","setCards","setModalVisible","isLoaded","setIsLoaded","currentUserUid","location","get","handleOnChange","useCallback","refPath","updateInfo","update","remove","refs","onChildChanged","snapshot","data","val","onChildRemoved","controlBtn","add","set","newKey","signOut","App","basename","process","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","AuthService","this","auth","getAuth","useDeviceLanguage","setPersistence","browserSessionPersistence","providerName","provider","GoogleAuthProvider","GithubAuthProvider","setCustomParameters","prompt","signInWithPopup","onUserChanged","onAuthStateChanged","DbService","getDatabase","listRef","newCardRef","dbRef","child","snapshots","exists","forEach","cardRef","ImageUploadService","cloudName","CLOUDINARY_CLOUD_NAME","cloudApiKey","CLOUDINARY_API_KEY","imageUploadURL","formData","FormData","append","fetch","method","body","res","json","ReactDOM","render","StrictMode"],"mappings":"oHACAA,EAAOC,QAAU,CAAC,UAAY,UAAU,SAAW,UAAU,UAAY,UAAU,YAAc,QAAQ,KAAO,+BAA+B,MAAQ,gCAAgC,KAAO,+BAA+B,SAAW,mCAAmC,UAAY,oCAAoC,OAAS,iCAAiC,QAAU,kCAAkC,UAAY,sC,mBCA7ZD,EAAOC,QAAU,CAAC,UAAY,UAAU,SAAW,UAAU,UAAY,oCAAoC,MAAQ,gCAAgC,cAAgB,wCAAwC,SAAW,mCAAmC,QAAU,kCAAkC,MAAQ,gCAAgC,QAAU,kCAAkC,KAAO,+BAA+B,QAAU,kCAAkC,SAAW,mCAAmC,MAAQ,gCAAgC,QAAU,oC,mBCA7iBD,EAAOC,QAAU,CAAC,UAAY,UAAU,SAAW,UAAU,UAAY,UAAU,WAAa,qBAAqB,YAAc,QAAQ,SAAW,+BAA+B,KAAO,2BAA2B,MAAQ,4BAA4B,KAAO,2BAA2B,SAAW,+BAA+B,MAAQ,4BAA4B,QAAU,8BAA8B,KAAO,2BAA2B,QAAU,8BAA8B,QAAU,gC,mBCAveD,EAAOC,QAAU,CAAC,UAAY,UAAU,SAAW,UAAU,UAAY,UAAU,YAAc,QAAQ,QAAU,8BAA8B,SAAW,+BAA+B,UAAY,gCAAgC,OAAS,6BAA6B,QAAU,8BAA8B,UAAY,kC,mBCAjUD,EAAOC,QAAU,CAAC,UAAY,UAAU,SAAW,UAAU,SAAW,UAAU,QAAU,UAAU,UAAY,UAAU,WAAa,qBAAqB,YAAc,QAAQ,UAAY,yBAAyB,MAAQ,qBAAqB,OAAS,sBAAsB,WAAa,0BAA0B,IAAM,mBAAmB,QAAU,uBAAuB,QAAU,yB,mBCAhYD,EAAOC,QAAU,CAAC,WAAa,iCAAiC,UAAY,gCAAgC,MAAQ,4BAA4B,OAAS,+B,mBCAzJD,EAAOC,QAAU,CAAC,SAAW,UAAU,SAAW,UAAU,YAAc,QAAQ,UAAY,6BAA6B,MAAQ,yBAAyB,OAAS,0BAA0B,QAAU,6B,mBCAzMD,EAAOC,QAAU,CAAC,WAAa,kCAAkC,UAAY,iCAAiC,MAAQ,6BAA6B,QAAU,+BAA+B,KAAO,8B,mBCAnMD,EAAOC,QAAU,CAAC,cAAgB,YAAY,YAAc,QAAQ,KAAO,wBAAwB,MAAQ,yBAAyB,KAAO,0B,mBCA3ID,EAAOC,QAAU,CAAC,KAAO,0BAA0B,MAAQ,2BAA2B,KAAO,4B,mBCA7FD,EAAOC,QAAU,CAAC,IAAM,mB,kKCkDTC,EA/CG,SAAC,GAAqB,IAAnBC,EAAkB,EAAlBA,YACfC,EAAUC,cAERC,EAAW,SAACC,GAChBH,EAAQI,KAAK,CACXC,SAAU,QACVC,MAAOH,KAILI,EAAe,SAACC,GACpBT,EACGU,OAAOD,EAAME,OAAOC,aACpBC,MAAK,SAACC,GAEL,GADAC,QAAQC,IAAI,wBAAyBF,GACjCA,EAAOG,KAAM,CAAC,IAAD,EAC+BH,EAAOG,KAA7CC,EADO,EACPA,YAAaC,EADN,EACMA,MAAOC,EADb,EACaA,cAC5BL,QAAQC,IAAIE,EAAaC,EAAOC,EAAeN,EAAOG,MAClDG,GAAejB,EAASW,EAAOG,KAAKI,SAG3CC,OAAM,SAACC,GACNR,QAAQC,IAAI,yBAA0BO,OAU5C,OANAC,qBAAU,WACRxB,EAAYyB,eAAc,SAACR,GACzBA,GAAQd,EAASc,EAAKI,WAKxB,mCACE,0BAASK,UAAWC,IAAOC,UAA3B,UACE,oBAAIF,UAAWC,IAAOE,MAAtB,iCACA,sBAAKH,UAAWC,IAAOG,QAAvB,UACE,yCACA,wBAAQC,QAASvB,EAAjB,oBACA,wBAAQuB,QAASvB,EAAjB,uBAEF,qBAAKkB,UAAWC,IAAOK,OAAvB,mC,gGClBOC,EAxBM,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,QAASC,EAAe,EAAfA,SACzBC,EAAoB,SAACC,GACzBF,EAASE,EAAE1B,OAAO2B,OAEpB,OACE,qCACE,qBAAKZ,UAAWC,IAAOY,aACvB,qBAAKb,UAAWC,IAAOa,UAAvB,SACE,sBAAKd,UAAWC,IAAOc,MAAvB,UACE,qBAAKf,UAAWC,IAAOe,OAAvB,SAAgCR,IAChC,sBAAKR,UAAWC,IAAOgB,OAAvB,UACE,wBAAQZ,QAASK,EAAmBE,KAAK,KAAzC,gBAGA,wBAAQP,QAASK,EAAmBE,KAAK,SAAzC,gC,iBCAGM,EAdO,SAAC,GAAiB,IAAfV,EAAc,EAAdA,QACvB,OACE,qCACE,qBAAKR,UAAWC,IAAOY,aACvB,qBAAKb,UAAWC,IAAOa,UAAvB,SACE,sBAAKd,UAAWC,IAAOc,MAAvB,UACGP,EACD,qBAAKR,UAAWC,IAAOkB,mBCMlBC,EAXD,SAAC,GAA+C,IAA7CC,EAA4C,EAA5CA,UAAWC,EAAiC,EAAjCA,QAASd,EAAwB,EAAxBA,QAASC,EAAe,EAAfA,SACtCc,EAAYC,SAASC,eAAe,cACpCC,EACU,YAAdL,EACE,cAAC,EAAD,CAAcb,QAASA,EAASC,SAAUA,IAE1C,cAAC,EAAD,CAAeD,QAASA,IAE5B,OAAOmB,IAASC,aAAaN,EAAUI,EAAQ,KAAMH,I,iBCmJxCM,EA5JMC,gBACnB,YAA+D,IAA5DC,EAA2D,EAA3DA,KAAMC,EAAqD,EAArDA,aAAcC,EAAuC,EAAvCA,aAAcC,EAAyB,EAAzBA,mBAAyB,EAM1BC,mBAAS,CACzCd,UAAW,UACXe,cAAc,EACd5B,QAAS,sDATiD,mBAMrD6B,EANqD,KAM1CC,EAN0C,KAWtDC,EAAWC,mBAKXC,EAAoB,SAAC9B,GACzBqB,EAAarB,EAAGoB,EAAKW,MAiCjBC,EAAiB,uCAAG,8BAAAC,EAAA,yDACxBN,GAAa,iBAAO,CAClBjB,UAAW,WACXe,cAAc,EACd5B,QAAS,mDAELqC,EAAON,EAASO,QAAQC,MAAM,GACpC1D,QAAQC,IAAI,aAAcuD,IACtBA,EARoB,gCASDX,EAAmBc,OAAOH,GATzB,OAShBzD,EATgB,OAUtBC,QAAQC,IAAI,eAAgBF,GAC5B4C,EACE,CAAE/C,OAAQ,CAAE2B,KAAM,WAAYqC,MAAO7D,EAAO8D,MAC5CnB,EAAKW,KAbe,OAgBxBJ,GAAa,SAACD,GAAD,mBAAC,eACTA,GADQ,IAEXD,cAAc,OAlBQ,4CAAH,qDAuBvB,OADA/C,QAAQC,IAAI,eAAgByC,EAAKW,KAE/B,qCACE,qBAAI1C,UAAWC,IAAOkD,SAAtB,UACE,sBAAKnD,UAAWC,IAAOmD,UAAvB,UACE,uBACEC,KAAK,OACLC,YAAY,OACZL,MAAOlB,EAAKnB,KACZA,KAAK,OACL2C,SAAUd,IAEZ,uBACEY,KAAK,OACLC,YAAY,UACZL,MAAOlB,EAAKyB,QACZ5C,KAAK,UACL2C,SAAUd,IAEZ,wBACE7B,KAAK,QACL2C,SAAUd,EACVQ,MAAOlB,EAAK0B,MAHd,SA1Fa,CACnB,CAAER,MAAO,QAASrC,KAAM,cACxB,CAAEqC,MAAO,OAAQrC,KAAM,aACvB,CAAEqC,MAAO,WAAYrC,KAAM,kBA4FL8C,KAAI,SAACC,EAAaC,GAAd,OAChB,wBAAQX,MAAOU,EAAYV,MAA3B,SACGU,EAAYV,OADwBW,WAM7C,sBAAK5D,UAAWC,IAAOmD,UAAvB,UACE,uBACEC,KAAK,OACLC,YAAY,WACZL,MAAOlB,EAAK8B,SACZjD,KAAK,WACL2C,SAAUd,IAEZ,uBACEY,KAAK,QACLC,YAAY,QACZL,MAAOlB,EAAKtC,MACZmB,KAAK,QACL2C,SAAUd,OAGd,qBAAKzC,UAAS,UAAKC,IAAOmD,UAAZ,YAAyBnD,IAAOe,QAA9C,SACE,0BACEJ,KAAK,UACLkD,KAAK,IACLR,YAAY,UACZL,MAAOlB,EAAKvB,QACZ+C,SAAUd,MAGd,sBAAKzC,UAAWC,IAAOmD,UAAvB,UACE,uBACEC,KAAK,OACLzC,KAAK,eACLmD,IAAKxB,EACLyB,OAAO,UACPT,SAAUZ,IAEZ,wBAAQ3C,UAAWC,IAAOgE,QAAS5D,QA9FxB,SAACM,GAClBA,EAAEuD,iBACF3B,EAASO,QAAQqB,SA4FX,SACGpC,EAAKqC,SAAWrC,EAAKnB,KAAO,qBAE/B,wBAAQZ,UAAWC,IAAOoE,UAAWhE,QAvHxB,SAACM,GACpBtB,QAAQC,IAAI,SAAUyC,EAAKW,KAC3BJ,GAAa,iBAAO,CAClBjB,UAAW,UACXe,cAAc,EACd5B,QAAS,yDAkHL,yBAhEiCuB,EAAKW,KAqE1C,cAAC,EAAD,CACErB,UAAWgB,EAAUhB,UACrBC,QAASe,EAAUD,aACnB5B,QAAS6B,EAAU7B,QACnBC,SAxHsB,SAACrB,GACZ,OAAXA,GACF6C,EAAaF,EAAKW,KAEpBJ,GAAa,SAACD,GAAD,mBAAC,eACTA,GADQ,IAEXD,cAAc,gB,iBCTPkC,EA1BG,SAAC,GAKZ,IAJLC,EAII,EAJJA,MACAvC,EAGI,EAHJA,aACAC,EAEI,EAFJA,aACAC,EACI,EADJA,mBAEA,OACE,sBAAKlC,UAAWC,IAAOuE,KAAvB,UACE,qBAAKxE,UAAWC,IAAOE,MAAvB,SACE,8CAEF,oBAAIH,UAAWC,IAAOwE,KAAtB,SACGF,EAAMb,KAAI,SAACgB,GAAD,OACT,cAAC,EAAD,CAEE3C,KAAM2C,EACN1C,aAAcA,EACdC,aAAcA,EACdC,mBAAoBA,GAJfwC,EAAKhC,c,iBClBP,MAA0B,iCCuB1BiC,EAnBM7C,gBAAK,YAAe,IAAZC,EAAW,EAAXA,KAC3B,OACE,oBAAI/B,UAAWC,IAAO2E,SAAtB,SACE,sBAAK5E,UAAS,UAAKC,IAAOyE,KAAZ,YAAoBzE,IAAO8B,EAAK0B,QAA9C,UACE,qBAAKzD,UAAWC,IAAO4E,MAAvB,SACE,qBAAKC,IAAK/C,EAAKqC,UAAYW,EAAWC,IAAI,4CAE5C,sBAAKhF,UAAWC,IAAOG,QAAvB,UACE,mBAAGJ,UAAWC,IAAOW,KAArB,SAA4BmB,EAAKnB,MAAQ,iBACzC,mBAAGZ,UAAWC,IAAOuD,QAArB,SAA+BzB,EAAKyB,SAAW,iBAC/C,mBAAGxD,UAAWC,IAAO4D,SAArB,SAAgC9B,EAAK8B,UAAY,iBACjD,mBAAG7D,UAAWC,IAAOR,MAArB,SAA6BsC,EAAKtC,OAAS,uBAC3C,oBAAGO,UAAWC,IAAOO,QAArB,cAAgCuB,EAAKvB,SAAW,qBAAhD,cAV+BuB,EAAKW,Q,iBCa/BuC,EAfK,SAAC,GAAe,IAAbV,EAAY,EAAZA,MACrB,OACE,sBAAKvE,UAAWC,IAAOuE,KAAvB,UACE,qBAAKxE,UAAWC,IAAOE,MAAvB,SACE,gDAEF,oBAAIH,UAAWC,IAAOwE,KAAtB,SACGF,EAAMb,KAAI,SAACgB,GAAD,OACT,cAAC,EAAD,CAA6B3C,KAAM2C,GAAhBA,EAAKhC,c,iBCqBnBwC,EA9BU,kBACvB,sBAAKlF,UAAWC,IAAOuE,KAAvB,UACE,qBAAKxE,UAAWC,IAAOE,MAAvB,SACE,8CAEF,oBAAIH,UAAWC,IAAOwE,KAAtB,SACG,CAAC,EAAG,EAAG,GAAGf,KAAI,SAACyB,GAAD,OACb,qBAAInF,UAAWC,IAAOkD,SAAtB,UACE,sBAAKnD,UAAWC,IAAOmD,UAAvB,UACE,mBAAGpD,UAAWC,IAAOW,KAAMA,KAAK,SAChC,mBAAGZ,UAAWC,IAAOuD,QAAS5C,KAAK,YACnC,mBAAGZ,UAAWC,IAAOwD,MAAO7C,KAAK,aAEnC,sBAAKZ,UAAWC,IAAOmD,UAAvB,UACE,mBAAGpD,UAAWC,IAAO4D,SAAUjD,KAAK,aACpC,mBAAGZ,UAAWC,IAAOR,MAAOmB,KAAK,aAEnC,qBAAKZ,UAAS,UAAKC,IAAOmD,UAAZ,YAAyBnD,IAAOe,QAA9C,SACE,mBAAGhB,UAAWC,IAAOO,QAASI,KAAK,cAErC,sBAAKZ,UAAWC,IAAOmD,UAAvB,UACE,wBAAQpD,UAAWC,IAAOgE,UAC1B,wBAAQjE,UAAWC,IAAOoE,iBAfOc,Y,iBCmB9BC,EA1BU,WACvB,OACE,sBAAKpF,UAAWC,IAAOa,UAAvB,UACE,qBAAKd,UAAWC,IAAOE,MAAvB,SACE,6CAEF,oBAAIH,UAAWC,IAAOoF,cAAtB,SACG,CAAC,EAAG,EAAG,GAAG3B,KAAI,SAACyB,GAAD,OACb,qBAAInF,UAAWC,IAAO2E,SAAtB,UACE,qBAAK5E,UAAWC,IAAO4E,MAAvB,SACE,0BAEF,sBAAK7E,UAAWC,IAAOG,QAAvB,UACE,mBAAGJ,UAAWC,IAAOW,OACrB,mBAAGZ,UAAWC,IAAOuD,UACrB,mBAAGxD,UAAWC,IAAO4D,WACrB,mBAAG7D,UAAWC,IAAOR,QACrB,mBAAGO,UAAWC,IAAOO,eATY2E,YC4KhCG,EA7KD,SAAC,GAAoD,IAAlDhH,EAAiD,EAAjDA,YAAaiH,EAAoC,EAApCA,UAAWrD,EAAyB,EAAzBA,mBACjCsD,EAAQD,EAAUC,MADwC,EAEtCrD,mBAAS,IAF6B,mBAEzDoC,EAFyD,KAElDkB,EAFkD,OAGxBtD,oBAAS,GAHe,mBAGzDC,EAHyD,KAG3CsD,EAH2C,OAIhCvD,oBAAS,GAJuB,mBAIzDwD,EAJyD,KAI/CC,EAJ+C,KAK5DrH,EAAUC,cACRqH,EAAiBtH,EAAQuH,SAASjH,MAExCiB,qBAAU,WACRxB,EAAYyB,eAAc,SAACR,IACxBA,GAAQhB,EAAQI,KAAK,QAExBU,QAAQC,IAAI,eA4BdQ,qBAAU,WACRyF,EACGQ,IAAIF,GACJ1G,KAFH,uCAEQ,WAAOC,GAAP,SAAAwD,EAAA,sDACJ6C,EAASrG,GACTwG,GAAY,GAFR,2CAFR,uDAOAvG,QAAQC,IAAI,wCACX,CAACiG,EAAWM,IAOf,IAAMG,EAAiBC,uBACrB,SAACtF,EAAG+B,GAGF,IAAMwD,EAAUL,EAAiB,UAAYnD,EACvCyD,EAAU,eAAMxF,EAAE1B,OAAO2B,KAAOD,EAAE1B,OAAOgE,OAC/CsC,EAAUa,OAAOF,EAASC,KAE5B,CAACN,EAAgBN,IAObtD,EAAegE,uBACnB,SAACvD,GACCrD,QAAQC,IAAI,qBAAsBoD,GAClC,IAAMwD,EAAUL,EAAiB,UAAYnD,EAC7C6C,EAAUc,OAAOH,KAEnB,CAACL,EAAgBN,IAOnBzF,qBAAU,WACR,IAAMwG,EAAOvC,YAAIyB,EAAOK,EAAiB,WAKzCU,YAAeD,GAAM,SAACE,GACpB,IAAMC,EAAOD,EAASE,MACtBrH,QAAQC,IAAI,sBAAuBmH,GACnChB,GAAS,SAAClB,GAAD,OACPA,EAAMb,KAAI,SAACgB,GACT,OAAIA,EAAKhC,MAAQ+D,EAAK/D,IAAY+D,EAC3B/B,WAIbiC,YAAeL,GAAM,SAACE,GACpBnH,QAAQC,IAAI,uBACZiG,EACGQ,IAAIF,GACJ1G,KAFH,uCAEQ,WAAOC,GAAP,SAAAwD,EAAA,sDACJ6C,EAASrG,GADL,2CAFR,0DAMFC,QAAQC,IAAI,gDACX,CAACuG,EAAgBN,EAAWC,IAkB/B,OACE,qCACE,0BAASxF,UAAWC,IAAOC,UAA3B,UACE,sBAAKF,UAAWC,IAAOE,MAAvB,UACE,8BACE,uDAEF,sBAAKH,UAAWC,IAAO2G,WAAvB,UACE,wBAAQ5G,UAAWC,IAAO4G,IAAKxG,QArHnB,WAAO,IAAD,EACDkF,EAAUuB,IAAIjB,EAAiB,UAD9B,mBACnBkB,EADmB,UAEnB5H,MAAK,WACVsG,EAAS,GAAD,mBACHlB,GADG,CAEN,CACE3D,KAAM,GACN4C,QAAS,GACTK,SAAU,GACVJ,MAAO,QACPhE,MAAO,GACPe,QAAS,GACT4D,SAAU,GACV1B,IAAKqE,UAwGH,sBAGA,wBAAQ/G,UAAWC,IAAO+G,QAAS3G,QAvBvB,WACpBqF,GAAgB,IAsBR,4BAKJ,qBAAK1F,UAAWC,IAAOG,QAAvB,SACGuF,EACC,qCACE,cAAC,EAAD,CACEpB,MAAOA,EACPvC,aAAcgE,EACd/D,aAAcA,EACdC,mBAAoBA,IAEtB,cAAC,EAAD,CAAaqC,MAAOA,OAGtB,qCACE,cAAC,EAAD,IACA,cAAC,EAAD,SAIN,qBAAKvE,UAAWC,IAAOK,OAAvB,gCAEF,cAAC,EAAD,CACEe,UAAW,UACXC,QAASc,EACT5B,QAAS,iEACTC,SAjDsB,SAACrB,GACZ,OAAXA,GACFd,EAAY0I,UAAU7H,MAAK,WACzBZ,EAAQI,KAAK,QAGjB+G,GAAgB,UC3GLuB,EArBH,SAAC,GAAoD,IAAlD3I,EAAiD,EAAjDA,YAAaiH,EAAoC,EAApCA,UAAWrD,EAAyB,EAAzBA,mBACrC,OACE,qBAAKlC,UAAWC,IAAOgH,IAAvB,SACE,cAAC,IAAD,CAAeC,SAAUC,uBAAzB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAM,CAAC,IAAK,UAAWC,OAAK,EAAnC,SACE,cAAC,EAAD,CAAW/I,YAAaA,MAE1B,cAAC,IAAD,CAAO8I,KAAK,QAAQC,OAAK,EAAzB,SACE,cAAC,EAAD,CACE/I,YAAaA,EACbiH,UAAWA,EACXrD,mBAAoBA,cCNnBoF,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBrI,MAAK,YAAkD,IAA/CsI,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,yBCMCO,GAFEC,aATM,CACrBC,OAAQb,0CACRc,WAAYd,gCACZe,UAAWf,gBACXgB,cAAehB,4BACfiB,kBAAmBjB,aACnBkB,MAAOlB,6C,SC6CMmB,G,WAzCb,aAAe,qBACbC,KAAKC,KAAOC,aAAQX,IACpBS,KAAKC,KAAKE,oBAEVC,aAAeJ,KAAKC,KAAMI,M,2CAO5B,SAAOC,GACL,IAAIC,EAAW,KACf,OAAQD,GACN,IAAK,SACHC,EAAW,IAAIC,KACf,MACF,IAAK,SACHD,EAAW,IAAIE,KAKnB,OADAF,EAASG,oBAAoB,CAAEC,OAAQ,mBAChCC,aAAgBZ,KAAKC,KAAMM,K,qBAOpC,WACE,OAAOP,KAAKC,KAAKxB,Y,2BAGnB,SAAcoC,GACZC,aAAmBd,KAAKC,MAAM,SAACjJ,GAC7B6J,EAAc7J,U,KCsBL+J,G,WAzDb,aAAe,qBACbf,KAAK/C,MAAQ+D,YAAYzB,I,wCAQ3B,SAAIV,GACF,IAAMoC,EAAUzF,YAAIwE,KAAK/C,MAAO4B,GAC1BqC,EAAa9K,YAAK6K,GACxB,MAAO,CACLC,EAAW/G,IACXoE,YAAI2C,EAAY,CACd7I,KAAM,GACN4C,QAAS,GACTK,SAAU,GACVJ,MAAO,GACPhE,MAAO,GACPe,QAAS,GACT4D,SAAU,GACV1B,IAAK+G,EAAW/G,S,wDAUtB,WAAUhE,GAAV,mBAAAkE,EAAA,6DACQ8G,EAAQ3F,YAAIwE,KAAK/C,OADzB,SAE0BO,YAAI4D,YAAMD,EAAOhL,EAAS,YAFpD,cAEQkL,EAFR,OAGMxK,EAAS,GACTwK,EAAUC,UACZD,EAAUE,SAAQ,SAACtD,GACjBpH,EAAOT,KAAK6H,EAASE,UAN3B,kBASStH,GATT,gD,kHAYA,WAAagI,EAAMrF,GAAnB,eAAAa,EAAA,6DACEvD,QAAQC,IAAI,eAAgB8H,EAAMrF,GAC5BgI,EAAUhG,YAAIwE,KAAK/C,MAAO4B,GAFlC,kBAGShB,YAAO2D,EAAShI,IAHzB,gD,oHAMA,WAAaqF,GAAb,eAAAxE,EAAA,6DACEvD,QAAQC,IAAI,eAAgB8H,GACtB2C,EAAUhG,YAAIwE,KAAK/C,MAAO4B,GAFlC,kBAGSf,YAAO0D,IAHhB,gD,8DC5CaC,G,WAlBb,aAAe,qBACbzB,KAAK0B,UAAY9C,mdAAY+C,sBAC7B3B,KAAK4B,YAAchD,mdAAYiD,mBAC/B7B,KAAK8B,eAAL,yD,kFAGF,WAAaxH,GAAb,iBAAAD,EAAA,6DACQ0H,EAAW,IAAIC,UACZC,OAAO,OAAQ3H,GACxByH,EAASE,OAAO,gBAAiB,YAHnC,SAIoBC,MAAMlC,KAAK8B,eAAgB,CAC3CK,OAAQ,OACRC,KAAML,IANV,cAIQM,EAJR,yBAQSA,EAAIC,QARb,gD,8DCEIvM,GAAc,IAAIgK,GAClB/C,GAAY,IAAI+D,GAChBpH,GAAqB,IAAI8H,GAC/Bc,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,CACE1M,YAAaA,GACbiH,UAAWA,GACXrD,mBAAoBA,OAGxBV,SAASC,eAAe,SAM1B6F,M","file":"static/js/main.6fdcb026.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWhite\":\"#ffffff\",\"subWhite\":\"#f3f3f3\",\"mainBlack\":\"#000000\",\"mediaMobile\":\"767px\",\"wrap\":\"CardFormSkeleton_wrap__156yr\",\"title\":\"CardFormSkeleton_title__3VuUK\",\"list\":\"CardFormSkeleton_list__QiDhe\",\"formWrap\":\"CardFormSkeleton_formWrap__1VFjg\",\"formBlock\":\"CardFormSkeleton_formBlock__3y_l7\",\"msgBox\":\"CardFormSkeleton_msgBox__1Ct3v\",\"btnName\":\"CardFormSkeleton_btnName__21raN\",\"btnDelete\":\"CardFormSkeleton_btnDelete__1iJ3L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWhite\":\"#ffffff\",\"subWhite\":\"#f3f3f3\",\"container\":\"CardViewSkeleton_container__3_RUX\",\"title\":\"CardViewSkeleton_title__3PlZQ\",\"listContainer\":\"CardViewSkeleton_listContainer__3GgPH\",\"listWrap\":\"CardViewSkeleton_listWrap__29AI2\",\"loading\":\"CardViewSkeleton_loading__1ogEQ\",\"image\":\"CardViewSkeleton_image__1yh-Z\",\"content\":\"CardViewSkeleton_content__3tjW_\",\"name\":\"CardViewSkeleton_name__35yA-\",\"company\":\"CardViewSkeleton_company__Yi_29\",\"position\":\"CardViewSkeleton_position__zE9sJ\",\"email\":\"CardViewSkeleton_email__2ebvr\",\"message\":\"CardViewSkeleton_message__1fjEQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWhite\":\"#ffffff\",\"mainBlue\":\"#00539c\",\"mainBlack\":\"#000000\",\"mainShadow\":\"rgba(0, 0, 0, 0.3)\",\"mediaMobile\":\"767px\",\"listWrap\":\"CardViewList_listWrap__1qUXT\",\"card\":\"CardViewList_card__3ejQP\",\"Light\":\"CardViewList_Light__16fWD\",\"Dark\":\"CardViewList_Dark__2BEvT\",\"Colorful\":\"CardViewList_Colorful__1Hisd\",\"image\":\"CardViewList_image__bcKSe\",\"content\":\"CardViewList_content__298r0\",\"name\":\"CardViewList_name__3R0yb\",\"company\":\"CardViewList_company__1u_5J\",\"message\":\"CardViewList_message__2hZxj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWhite\":\"#ffffff\",\"mainBlue\":\"#00539c\",\"mainBlack\":\"#000000\",\"mediaMobile\":\"767px\",\"content\":\"CardFormList_content__29hhM\",\"formWrap\":\"CardFormList_formWrap__39eG1\",\"formBlock\":\"CardFormList_formBlock__3QQsk\",\"msgBox\":\"CardFormList_msgBox__2k0Kc\",\"btnName\":\"CardFormList_btnName__2ylKl\",\"btnDelete\":\"CardFormList_btnDelete__3A-tV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWhite\":\"#ffffff\",\"subWhite\":\"#f3f3f3\",\"mainBlue\":\"#00539c\",\"subBlue\":\"#9cc3d5\",\"mainBlack\":\"#000000\",\"mainShadow\":\"rgba(0, 0, 0, 0.3)\",\"mediaMobile\":\"767px\",\"loginForm\":\"Intro_loginForm__2RXMW\",\"title\":\"Intro_title__3Q0XB\",\"footer\":\"Intro_footer__LiL1c\",\"controlBtn\":\"Intro_controlBtn__I_vy9\",\"add\":\"Intro_add__2kbFN\",\"signOut\":\"Intro_signOut__3vxm9\",\"content\":\"Intro_content__3n9tJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"background\":\"ConfirmModal_background__3Be0v\",\"container\":\"ConfirmModal_container__1_3jH\",\"inner\":\"ConfirmModal_inner__w8Vga\",\"btnBox\":\"ConfirmModal_btnBox__3_YN3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"subWhite\":\"#f3f3f3\",\"mainBlue\":\"#00539c\",\"mediaMobile\":\"767px\",\"loginForm\":\"LoginForm_loginForm__3w-8H\",\"title\":\"LoginForm_title__1Yyls\",\"footer\":\"LoginForm_footer__2IqzX\",\"content\":\"LoginForm_content__cPcux\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"background\":\"ProgressModal_background__2PyVh\",\"container\":\"ProgressModal_container__2p5el\",\"inner\":\"ProgressModal_inner__1lXwn\",\"loading\":\"ProgressModal_loading__3Ub37\",\"spin\":\"ProgressModal_spin__6hhHU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainLightGrey\":\"#80808082\",\"mediaMobile\":\"767px\",\"wrap\":\"CardMaker_wrap__9vOB_\",\"title\":\"CardMaker_title__12f5Y\",\"list\":\"CardMaker_list__1s96q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"CardPreview_wrap__1eMVV\",\"title\":\"CardPreview_title__3kQmZ\",\"list\":\"CardPreview_list__2rxV1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1gYJ4\"};","import React, { useEffect } from 'react';\r\nimport styles from './LoginForm.module.css';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst LoginForm = ({ authService }) => {\r\n  let history = useHistory();\r\n\r\n  const goToMain = (userId) => {\r\n    history.push({\r\n      pathname: '/main',\r\n      state: userId,\r\n    });\r\n  };\r\n\r\n  const handleSignIn = (event) => {\r\n    authService\r\n      .signIn(event.target.textContent)\r\n      .then((result) => {\r\n        console.log('signInWithGoogle.then', result);\r\n        if (result.user) {\r\n          const { displayName, email, emailVerified } = result.user;\r\n          console.log(displayName, email, emailVerified, result.user);\r\n          if (emailVerified) goToMain(result.user.uid);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log('signInWithGoogle.catch', error);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    authService.onAuthChanged((user) => {\r\n      user && goToMain(user.uid);\r\n    });\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <section className={styles.loginForm}>\r\n        <h2 className={styles.title}>Business Card Maker</h2>\r\n        <div className={styles.content}>\r\n          <h2>Sign In</h2>\r\n          <button onClick={handleSignIn}>Google</button>\r\n          <button onClick={handleSignIn}>Github</button>\r\n        </div>\r\n        <div className={styles.footer}>Code your dream</div>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n","import React from 'react';\r\nimport styles from './ConfirmModal.module.css';\r\n\r\nconst ConfirmModal = ({ message, callback }) => {\r\n  const handleButtonClick = (e) => {\r\n    callback(e.target.name);\r\n  };\r\n  return (\r\n    <>\r\n      <div className={styles.background}></div>\r\n      <div className={styles.container}>\r\n        <div className={styles.inner}>\r\n          <div className={styles.msgBox}>{message}</div>\r\n          <div className={styles.btnBox}>\r\n            <button onClick={handleButtonClick} name='ok'>\r\n              OK\r\n            </button>\r\n            <button onClick={handleButtonClick} name='cancel'>\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ConfirmModal;\r\n","import React from 'react';\r\nimport styles from './ProgressModal.module.css';\r\n\r\nconst ProgressModal = ({ message }) => {\r\n  return (\r\n    <>\r\n      <div className={styles.background}></div>\r\n      <div className={styles.container}>\r\n        <div className={styles.inner}>\r\n          {message}\r\n          <div className={styles.loading}></div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProgressModal;\r\n","import React from 'react';\r\nimport ReactDom from 'react-dom';\r\nimport ConfirmModal from './ConfirmModal';\r\nimport ProgressModal from './ProgressModal';\r\n\r\nconst Modal = ({ modalType, visible, message, callback }) => {\r\n  const modalRoot = document.getElementById('modal-root');\r\n  const modal =\r\n    modalType === 'confirm' ? (\r\n      <ConfirmModal message={message} callback={callback} />\r\n    ) : (\r\n      <ProgressModal message={message} />\r\n    );\r\n  return ReactDom.createPortal(visible ? modal : null, modalRoot);\r\n};\r\n\r\nexport default Modal;\r\n","import React, { memo, useRef, useState } from 'react';\r\nimport Modal from '../modal/Modal';\r\nimport styles from './CardFormList.module.css';\r\n\r\nconst CardFormList = memo(\r\n  ({ info, handleChange, handleRemove, imageUploadService }) => {\r\n    const themeOptions = [\r\n      { value: 'Light', name: 'LightTheme' },\r\n      { value: 'Dark', name: 'DarkTheme' },\r\n      { value: 'Colorful', name: 'ColorfulTheme' },\r\n    ];\r\n    const [modalInfo, setModalInfo] = useState({\r\n      modalType: 'confirm',\r\n      modalVisible: false,\r\n      message: '삭제하시겠습니까?',\r\n    });\r\n    const imageRef = useRef();\r\n    /**\r\n     * 키 이벤트와 현재 카드 키값을 상위로 전달.\r\n     * @param {e} e : 키보드 이벤트\r\n     */\r\n    const handleInputChange = (e) => {\r\n      handleChange(e, info.key);\r\n    };\r\n\r\n    const handleDelete = (e) => {\r\n      console.log('delete', info.key);\r\n      setModalInfo(() => ({\r\n        modalType: 'confirm',\r\n        modalVisible: true,\r\n        message: '삭제하시겠습니까?',\r\n      }));\r\n    };\r\n    const handleModalCallback = (result) => {\r\n      if (result === 'ok') {\r\n        handleRemove(info.key);\r\n      }\r\n      setModalInfo((modalInfo) => ({\r\n        ...modalInfo,\r\n        modalVisible: false,\r\n      }));\r\n    };\r\n\r\n    /**\r\n     * 버튼 클릭 시 input click 이벤트 실행\r\n     * @param {event} event\r\n     */\r\n    const onBtnClick = (e) => {\r\n      e.preventDefault();\r\n      imageRef.current.click();\r\n    };\r\n\r\n    /**\r\n     * 프로필 이미지 업로드 및 변경\r\n     */\r\n    const onImageFileChange = async () => {\r\n      setModalInfo(() => ({\r\n        modalType: 'progress',\r\n        modalVisible: true,\r\n        message: '이미지 업로드 중',\r\n      }));\r\n      const file = imageRef.current.files[0];\r\n      console.log('image file', file);\r\n      if (file) {\r\n        const result = await imageUploadService.upload(file);\r\n        console.log('fetch result', result);\r\n        handleChange(\r\n          { target: { name: 'imageUrl', value: result.url } },\r\n          info.key\r\n        );\r\n      }\r\n      setModalInfo((modalInfo) => ({\r\n        ...modalInfo,\r\n        modalVisible: false,\r\n      }));\r\n    };\r\n\r\n    console.log('cardFormlist', info.key);\r\n    return (\r\n      <>\r\n        <li className={styles.formWrap} key={info.key}>\r\n          <div className={styles.formBlock}>\r\n            <input\r\n              type='text'\r\n              placeholder='Name'\r\n              value={info.name}\r\n              name='name'\r\n              onChange={handleInputChange}\r\n            />\r\n            <input\r\n              type='text'\r\n              placeholder='Company'\r\n              value={info.company}\r\n              name='company'\r\n              onChange={handleInputChange}\r\n            />\r\n            <select\r\n              name='theme'\r\n              onChange={handleInputChange}\r\n              value={info.theme}\r\n            >\r\n              {themeOptions.map((themeOption, i) => (\r\n                <option value={themeOption.value} key={i}>\r\n                  {themeOption.value}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div className={styles.formBlock}>\r\n            <input\r\n              type='text'\r\n              placeholder='Position'\r\n              value={info.position}\r\n              name='position'\r\n              onChange={handleInputChange}\r\n            />\r\n            <input\r\n              type='email'\r\n              placeholder='Email'\r\n              value={info.email}\r\n              name='email'\r\n              onChange={handleInputChange}\r\n            />\r\n          </div>\r\n          <div className={`${styles.formBlock} ${styles.msgBox}`}>\r\n            <textarea\r\n              name='message'\r\n              rows='4'\r\n              placeholder='Message'\r\n              value={info.message}\r\n              onChange={handleInputChange}\r\n            ></textarea>\r\n          </div>\r\n          <div className={styles.formBlock}>\r\n            <input\r\n              type='file'\r\n              name='profileImage'\r\n              ref={imageRef}\r\n              accept='image/*'\r\n              onChange={onImageFileChange}\r\n            ></input>\r\n            <button className={styles.btnName} onClick={onBtnClick}>\r\n              {info.imageUrl ? info.name : 'No Profile Image'}\r\n            </button>\r\n            <button className={styles.btnDelete} onClick={handleDelete}>\r\n              Delete\r\n            </button>\r\n          </div>\r\n        </li>\r\n        <Modal\r\n          modalType={modalInfo.modalType}\r\n          visible={modalInfo.modalVisible}\r\n          message={modalInfo.message}\r\n          callback={handleModalCallback}\r\n        ></Modal>\r\n      </>\r\n    );\r\n  }\r\n);\r\n\r\nexport default CardFormList;\r\n","import React from 'react';\r\nimport CardFormList from '../cardFormList/CardFormList';\r\nimport styles from './CardMaker.module.css';\r\n\r\nconst CardMaker = ({\r\n  cards,\r\n  handleChange,\r\n  handleRemove,\r\n  imageUploadService,\r\n}) => {\r\n  return (\r\n    <div className={styles.wrap}>\r\n      <div className={styles.title}>\r\n        <h2>Card Maker</h2>\r\n      </div>\r\n      <ul className={styles.list}>\r\n        {cards.map((card) => (\r\n          <CardFormList\r\n            key={card.key}\r\n            info={card}\r\n            handleChange={handleChange}\r\n            handleRemove={handleRemove}\r\n            imageUploadService={imageUploadService}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardMaker;\r\n","export default __webpack_public_path__ + \"static/media/user.18fe6a7e.png\";","import React, { memo } from 'react';\r\nimport styles from './CardViewList.module.css';\r\nimport userImage from '../../user.png';\r\n\r\nconst CardViewList = memo(({ info }) => {\r\n  return (\r\n    <li className={styles.listWrap} key={info.key}>\r\n      <div className={`${styles.card} ${styles[info.theme]}`}>\r\n        <div className={styles.image}>\r\n          <img src={info.imageUrl || userImage} alt='사용자 이미지' />\r\n        </div>\r\n        <div className={styles.content}>\r\n          <p className={styles.name}>{info.name || '이름'}</p>\r\n          <p className={styles.company}>{info.company || '소속'}</p>\r\n          <p className={styles.position}>{info.position || '직급'}</p>\r\n          <p className={styles.email}>{info.email || '이메일'}</p>\r\n          <p className={styles.message}>\"{info.message || '코멘트'}\"</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n});\r\n\r\nexport default CardViewList;\r\n","import React from 'react';\r\nimport CardViewList from '../cardViewList/CardViewList';\r\nimport styles from './CardPreview.module.css';\r\n\r\nconst CardPreview = ({ cards }) => {\r\n  return (\r\n    <div className={styles.wrap}>\r\n      <div className={styles.title}>\r\n        <h2>Card Preview</h2>\r\n      </div>\r\n      <ul className={styles.list}>\r\n        {cards.map((card) => (\r\n          <CardViewList key={card.key} info={card} />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardPreview;\r\n","import React from 'react';\r\nimport styles from './CardFormSkeleton.module.css';\r\n\r\nconst CardFormSkeleton = () => (\r\n  <div className={styles.wrap}>\r\n    <div className={styles.title}>\r\n      <h2>Card Maker</h2>\r\n    </div>\r\n    <ul className={styles.list}>\r\n      {[0, 1, 2].map((v) => (\r\n        <li className={styles.formWrap} key={v}>\r\n          <div className={styles.formBlock}>\r\n            <p className={styles.name} name='name'></p>\r\n            <p className={styles.company} name='company'></p>\r\n            <p className={styles.theme} name='theme'></p>\r\n          </div>\r\n          <div className={styles.formBlock}>\r\n            <p className={styles.position} name='position'></p>\r\n            <p className={styles.email} name='email'></p>\r\n          </div>\r\n          <div className={`${styles.formBlock} ${styles.msgBox}`}>\r\n            <p className={styles.message} name='message'></p>\r\n          </div>\r\n          <div className={styles.formBlock}>\r\n            <button className={styles.btnName}></button>\r\n            <button className={styles.btnDelete}></button>\r\n          </div>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  </div>\r\n);\r\n\r\nexport default CardFormSkeleton;\r\n","import React from 'react';\r\nimport styles from './CardViewSkeleton.module.css';\r\n\r\nconst CardViewSkeleton = () => {\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.title}>\r\n        <h2>Card View</h2>\r\n      </div>\r\n      <ul className={styles.listContainer}>\r\n        {[0, 1, 2].map((v) => (\r\n          <li className={styles.listWrap} key={v}>\r\n            <div className={styles.image}>\r\n              <div />\r\n            </div>\r\n            <div className={styles.content}>\r\n              <p className={styles.name}></p>\r\n              <p className={styles.company}></p>\r\n              <p className={styles.position}></p>\r\n              <p className={styles.email}></p>\r\n              <p className={styles.message}></p>\r\n            </div>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardViewSkeleton;\r\n","import React, { useCallback, useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { ref, onChildChanged, onChildRemoved } from 'firebase/database';\r\nimport styles from './Intro.module.css';\r\nimport CardMaker from '../cardMaker/CardMaker';\r\nimport CardPreview from '../cardPreview/CardPreview';\r\nimport Modal from '../modal/Modal';\r\nimport CardFormSkeleton from '../skeleton/CardFormSkeleton';\r\nimport CardViewSkeleton from '../skeleton/CardViewSkeleton';\r\n\r\nconst Intro = ({ authService, dbService, imageUploadService }) => {\r\n  const dbApp = dbService.dbApp;\r\n  const [cards, setCards] = useState([]);\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  let history = useHistory();\r\n  const currentUserUid = history.location.state;\r\n\r\n  useEffect(() => {\r\n    authService.onAuthChanged((user) => {\r\n      !user && history.push('/');\r\n    });\r\n    console.log('effect 1');\r\n  });\r\n\r\n  /**\r\n   * 빈 카드슬롯을 추가함\r\n   */\r\n  const handleAddCard = () => {\r\n    const [newKey, result] = dbService.set(currentUserUid + '/cards');\r\n    result.then(() => {\r\n      setCards([\r\n        ...cards,\r\n        {\r\n          name: '',\r\n          company: '',\r\n          position: '',\r\n          theme: 'Light',\r\n          email: '',\r\n          message: '',\r\n          imageUrl: '',\r\n          key: newKey,\r\n        },\r\n      ]);\r\n    });\r\n  };\r\n\r\n  /**\r\n   * 접속 시 데이터 조회\r\n   */\r\n  useEffect(() => {\r\n    dbService\r\n      .get(currentUserUid) //\r\n      .then(async (result) => {\r\n        setCards(result);\r\n        setIsLoaded(true);\r\n      });\r\n\r\n    console.log('effect 2, dbSevice, currentUserUid');\r\n  }, [dbService, currentUserUid]);\r\n\r\n  /**\r\n   * 카드 각 항목의 change 이벤트\r\n   * @param {event} e: 키보드 이벤트\r\n   * @param {string} key: 카드 객체의 고유 키\r\n   */\r\n  const handleOnChange = useCallback(\r\n    (e, key) => {\r\n      // console.log('handleOnChange', e, key);\r\n      // 키값으로 firebase update\r\n      const refPath = currentUserUid + '/cards/' + key;\r\n      const updateInfo = { [e.target.name]: e.target.value };\r\n      dbService.update(refPath, updateInfo);\r\n    },\r\n    [currentUserUid, dbService]\r\n  );\r\n\r\n  /**\r\n   * firebase 삭제\r\n   * @param {firebase key} key: 삭제할 카드의 key\r\n   */\r\n  const handleRemove = useCallback(\r\n    (key) => {\r\n      console.log('intro handleRemove', key);\r\n      const refPath = currentUserUid + '/cards/' + key;\r\n      dbService.remove(refPath);\r\n    },\r\n    [currentUserUid, dbService]\r\n  );\r\n\r\n  /**\r\n   * firebase 업데이트 후 onChildChanged 리스너를 통해 preview 업데이트를 위해 state 변경\r\n   * useEffect 사용해서 리스너는 최초 렌더링 시에만 등록\r\n   */\r\n  useEffect(() => {\r\n    const refs = ref(dbApp, currentUserUid + '/cards/');\r\n    /* onValue(refs, (snapshot) => {\r\n      console.log('### onValue: ', snapshot.val());\r\n      setCards(Object.values(snapshot.val()));\r\n    }); */\r\n    onChildChanged(refs, (snapshot) => {\r\n      const data = snapshot.val();\r\n      console.log('### onChildChanged:', data);\r\n      setCards((cards) =>\r\n        cards.map((card) => {\r\n          if (card.key === data.key) return data;\r\n          return card;\r\n        })\r\n      );\r\n    });\r\n    onChildRemoved(refs, (snapshot) => {\r\n      console.log('### onChildRemoved:');\r\n      dbService\r\n        .get(currentUserUid) //\r\n        .then(async (result) => {\r\n          setCards(result);\r\n        });\r\n    });\r\n    console.log('effect 3, currentUserUid, dbService, dbApp');\r\n  }, [currentUserUid, dbService, dbApp]);\r\n\r\n  /**\r\n   * 로그아웃.\r\n   * 로그아웃 성공 시 로그인페이지로 전환됨\r\n   */\r\n  const handleSignOut = () => {\r\n    setModalVisible(true);\r\n  };\r\n  const handleModalCallback = (result) => {\r\n    if (result === 'ok') {\r\n      authService.signOut().then(() => {\r\n        history.push('/');\r\n      });\r\n    }\r\n    setModalVisible(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <section className={styles.loginForm}>\r\n        <div className={styles.title}>\r\n          <div>\r\n            <h1>Business Card Maker</h1>\r\n          </div>\r\n          <div className={styles.controlBtn}>\r\n            <button className={styles.add} onClick={handleAddCard}>\r\n              Add Card\r\n            </button>\r\n            <button className={styles.signOut} onClick={handleSignOut}>\r\n              Sign Out\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className={styles.content}>\r\n          {isLoaded ? (\r\n            <>\r\n              <CardMaker\r\n                cards={cards}\r\n                handleChange={handleOnChange}\r\n                handleRemove={handleRemove}\r\n                imageUploadService={imageUploadService}\r\n              />\r\n              <CardPreview cards={cards} />\r\n            </>\r\n          ) : (\r\n            <>\r\n              <CardFormSkeleton />\r\n              <CardViewSkeleton />\r\n            </>\r\n          )}\r\n        </div>\r\n        <div className={styles.footer}>Code your dream</div>\r\n      </section>\r\n      <Modal\r\n        modalType={'confirm'}\r\n        visible={modalVisible}\r\n        message={'로그아웃 하시겠습니까?'}\r\n        callback={handleModalCallback}\r\n      ></Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Intro;\r\n","import styles from './App.module.css';\r\nimport { Route, BrowserRouter, Switch } from 'react-router-dom';\r\nimport LoginForm from './components/loginForm/LoginForm';\r\nimport Intro from './components/main/Intro';\r\nimport React from 'react';\r\n\r\nconst App = ({ authService, dbService, imageUploadService }) => {\r\n  return (\r\n    <div className={styles.App}>\r\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n        <Switch>\r\n          <Route path={['/', '/login']} exact>\r\n            <LoginForm authService={authService} />\r\n          </Route>\r\n          <Route path='/main' exact>\r\n            <Intro\r\n              authService={authService}\r\n              dbService={dbService}\r\n              imageUploadService={imageUploadService}\r\n            />\r\n          </Route>\r\n        </Switch>\r\n      </BrowserRouter>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { initializeApp } from 'firebase/app';\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_APP_ID,\n};\n\nconst firebase = initializeApp(firebaseConfig);\n\nexport default firebase;\n","import firebase from '../firebaseInit/firebaseInit';\r\nimport {\r\n  getAuth,\r\n  GoogleAuthProvider,\r\n  GithubAuthProvider,\r\n  signInWithPopup,\r\n  setPersistence,\r\n  browserSessionPersistence,\r\n  onAuthStateChanged,\r\n} from 'firebase/auth';\r\n\r\nclass AuthService {\r\n  constructor() {\r\n    this.auth = getAuth(firebase);\r\n    this.auth.useDeviceLanguage();\r\n    // 로그인상태 브라우저 세션으로 지속\r\n    setPersistence(this.auth, browserSessionPersistence);\r\n  }\r\n  /**\r\n   * 로그인\r\n   * @param {string} providerName : 로그인 방식을 문자열로 받음\r\n   * @returns 로그인팝업 promise\r\n   */\r\n  signIn(providerName) {\r\n    let provider = null;\r\n    switch (providerName) {\r\n      case 'Google':\r\n        provider = new GoogleAuthProvider();\r\n        break;\r\n      case 'Github':\r\n        provider = new GithubAuthProvider();\r\n        break;\r\n      default:\r\n    }\r\n    provider.setCustomParameters({ prompt: 'select_account' });\r\n    return signInWithPopup(this.auth, provider);\r\n  }\r\n\r\n  /**\r\n   * 사용자 로그아웃\r\n   * @returns 로그아웃 promise\r\n   */\r\n  signOut() {\r\n    return this.auth.signOut();\r\n  }\r\n\r\n  onAuthChanged(onUserChanged) {\r\n    onAuthStateChanged(this.auth, (user) => {\r\n      onUserChanged(user);\r\n    });\r\n  }\r\n}\r\n\r\nexport default AuthService;\r\n","import firebase from '../firebaseInit/firebaseInit';\r\nimport {\r\n  child,\r\n  get,\r\n  getDatabase,\r\n  push,\r\n  ref,\r\n  remove,\r\n  set,\r\n  update,\r\n} from 'firebase/database';\r\n\r\nclass DbService {\r\n  constructor() {\r\n    this.dbApp = getDatabase(firebase);\r\n  }\r\n\r\n  /**\r\n   * 새로운 카드 추가\r\n   * @param {string} path : firebase database reference 경로\r\n   * @returns 새로 추가된 reference의 key 와 set Promise 를 반환\r\n   */\r\n  set(path) {\r\n    const listRef = ref(this.dbApp, path);\r\n    const newCardRef = push(listRef);\r\n    return [\r\n      newCardRef.key,\r\n      set(newCardRef, {\r\n        name: '',\r\n        company: '',\r\n        position: '',\r\n        theme: '',\r\n        email: '',\r\n        message: '',\r\n        imageUrl: '',\r\n        key: newCardRef.key,\r\n      }),\r\n    ];\r\n  }\r\n\r\n  /**\r\n   * 전체 카드 조회\r\n   * @param {string} userId : firebase auth 의 유저 id\r\n   * @returns {array} 조회결과\r\n   */\r\n  async get(userId) {\r\n    const dbRef = ref(this.dbApp);\r\n    const snapshots = await get(child(dbRef, userId + '/cards/'));\r\n    let result = [];\r\n    if (snapshots.exists()) {\r\n      snapshots.forEach((snapshot) => {\r\n        result.push(snapshot.val());\r\n      });\r\n    }\r\n    return result;\r\n  }\r\n\r\n  async update(path, info) {\r\n    console.log('dbService js', path, info);\r\n    const cardRef = ref(this.dbApp, path);\r\n    return update(cardRef, info);\r\n  }\r\n\r\n  async remove(path) {\r\n    console.log('dbService js', path);\r\n    const cardRef = ref(this.dbApp, path);\r\n    return remove(cardRef);\r\n  }\r\n}\r\n\r\nexport default DbService;\r\n","class ImageUploadService {\r\n  constructor() {\r\n    this.cloudName = process.env.CLOUDINARY_CLOUD_NAME;\r\n    this.cloudApiKey = process.env.CLOUDINARY_API_KEY;\r\n    this.imageUploadURL = `https://api.cloudinary.com/v1_1/drpteyub6/image/upload`;\r\n  }\r\n\r\n  async upload(file) {\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n    formData.append('upload_preset', 'dclwja8y');\r\n    const res = await fetch(this.imageUploadURL, {\r\n      method: 'POST',\r\n      body: formData,\r\n    });\r\n    return res.json();\r\n  }\r\n}\r\n\r\nexport default ImageUploadService;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport AuthService from './services/authService';\r\nimport DbService from './services/dbService';\r\nimport ImageUploadService from './services/imageUploadService';\r\n\r\nconst authService = new AuthService();\r\nconst dbService = new DbService();\r\nconst imageUploadService = new ImageUploadService();\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App\r\n      authService={authService}\r\n      dbService={dbService}\r\n      imageUploadService={imageUploadService}\r\n    />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}